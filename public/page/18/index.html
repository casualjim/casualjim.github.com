
<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
<head>

  <meta charset="utf-8">
  <title>Ivan Porto Carrero</title>
  <meta name="author" content="Ivan Porto Carrero">

  
  <meta name="description" content="Something I found very useful to use in castle is Base4  And as it so happens Nic Wise just asked me if you could use the 2 together. The answer is &hellip;">
  

  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <!-- http://t.co/dKP3o1e -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <link rel="canonical" href="http://flanders.co.nz/page/18">
  <link href="/favicon.png" rel="icon">
  <link href="/css/base.css" rel="stylesheet" type="text/css">
  <link href="/css/skeleton.css" rel="stylesheet" type="text/css">
  <link href="/css/syntax.css" rel="stylesheet" type="text/css">
  <link href="/css/style.css" rel="stylesheet" type="text/css">
  <link href="/css/skins/blue.css" rel="stylesheet" type="text/css">

  <link rel="shortcut icon" href="/images/favicon.ico">
  <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/images/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/images/apple-touch-icon-114x114.png">

  <script src="/js/jquery-1.7.1.min.js" type="text/javascript"></script>
  <script src="/js/modernizr.js" type="text/javascript"></script>
  <script src="/js/jquery.easing.1.3.js" type="text/javascript"></script>
  <script type="text/javascript" src="/js/jquery.illuminate.0.7.min.js"></script>
  <!-- tweet -->
  <script type="text/javascript" src="/js/tweet/twitter.js"></script>
  <script type="text/javascript" src="/js/tweet/setting.js"></script>
  
  <script type="text/javascript" src="/js/custom.js"></script>
  <script type="text/javascript" src="/javascripts/twitter.js"></script>
  <link href="/atom.xml" rel="alternate" title="Ivan Porto Carrero" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-240612-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body >
  <div id="wrapper">
    <header role="banner"> <div class="container">
    <div class="row clearfix">
      <hdgroup>
        <div class="four columns">
          <div class="logo">
            <img src="/images/logo.png" alt="" />
            <h2>Rants &amp; ramblings</h2>
          </div>  
        </div>
      </hdgroup>
      <nav role="navigation"><!-- <ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:flanders.co.nz" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
   -->
<ul>
  <li>
    <a href="/">Home
      <span>Homepage</span>
    </a>    
  </li>
  <li>
    <a href="/archives">Archives
      <span>Articles</span>
    </a>    
  </li>
  <li>
    <a href="/projects">Projects
      <span>Open-Source</span>
    </a>    
  </li>
  <li>
    <a href="/about">About me
      <span>Introduction</span>
    </a>    
  </li>
</ul>
</nav>

    </div>
  </div>  
<!-- <hgroup>
  <h1><a href="/">Ivan Porto Carrero</a></h1>
  
    <h2>IO(thoughts) foreach (_.propagandize)</h2>
  
</hgroup>
 -->
</header>
    <div class="container bodycontent">
      <div class="row clearfix">
        <div class="sixteen columns headline">
          <h2>Ivan Porto Carrero</h2>
          <p class="italic">IO(thoughts) foreach (_.propagandize)</p>
        </div>
      </div>  

      <div class="sixteen columns">
        <div class="divider row"></div>
      </div>  
      
      <!-- start of row -->
      <div class="row clearfix">
        <div class="sixteen columns">
          <!-- twitter feed -->
          <div class="twitter_feed">
            <ul class="tweet_list"></ul>
          </div>
        </div>
      </div>  
      <div class="sixteen columns">
        <div class="divider row"></div>
      </div>  
      
      <div id="maincontent" class="clearfix">
        <div class="five columns">  
  <aside class="left-sidebar">
    
        
<div class="widget row">
  <h5>Search form</h5>  
  <div id="search-form">
    <form action="http://google.com/search" method="get">
      <fieldset role="search">
        <input type="hidden" name="q" value="site:flanders.co.nz" />
        <input id="search-box" type="text" name="q" results="0" placeholder="Search"/>
        <input type="submit" value="Search" id="search-button" />
        <div class="clear"></div>
      </fieldset>
    </form>
  </div>
</div>
   <section>
  <div class="widget row">
    <h5>Recent Posts</h5>  
    <ul id="recent_posts">
      
        <li class="post">
          <a href="/2011/08/01/backchat-developers/">work for backchat</a>
        </li>
      
        <li class="post">
          <a href="/2010/09/30/radical-language-and-platform-shift/">Radical language and platform shift</a>
        </li>
      
        <li class="post">
          <a href="/2010/03/12/video-of-fosdem-ironruby-presentation/">Video of FOSDEM IronRuby presentation</a>
        </li>
      
        <li class="post">
          <a href="/2009/12/01/adding-a-console-to-your-ironruby-application/">Adding a console to your IronRuby application</a>
        </li>
      
        <li class="post">
          <a href="/2009/11/08/a-good-url-regular-expression-repost/">A good url regular expression? (repost)</a>
        </li>
      
    </ul>
  </div>
</section>

<section>
  <div class="widget row">
    <h5>GitHub Repos</h5>
    <ul id="gh_repos">
      <li class="loading">Status updating&#8230;</li>
    </ul>
    
    <a href="https://github.com/casualjim">@casualjim</a> on GitHub
    
  </div>
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'casualjim',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <div class="widget row">
    <h5>Latest Tweets</h5>
    <ul id="tweets">
      <li class="loading">Status updating&#8230;</li>
    </ul>
    <script type="text/javascript">
      $(document).ready(function(){
        getTwitterFeed("casualjim", 4, false);
      });
    </script>
    <script src="/javascripts/twitter.js" type="text/javascript"> </script>
    
      <a href="http://twitter.com/casualjim" class="twitter-follow-button" data-show-count="false">Follow @casualjim</a>
    
  </div>
</section>


<section>
  <div class="widget row">
    <h5>On Delicious</h5>
    <div id="delicious"></div>
    <script type="text/javascript" src="http://feeds.delicious.com/v2/json/casualjim?count=3&amp;sort=date&amp;callback=renderDeliciousLinks"></script>
    <p><a href="http://delicious.com/casualjim">My Delicious Bookmarks &raquo;</a></p>
  </div>
</section>


<section class="googleplus">
  <div class="widget row">
    <h5>
      <a href="https://plus.google.com/106536131996809745163?rel=author">
        <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
        Google+
      </a>
    </h5>
  </div>
</section>



    
  </aside>
</div>
<div class="eleven columns">
<div class="blog-index">
  
  
  
    <article class="blogpost row">
      
  <div class="post-heading"> 
        



    <p class="date">23</p>  
    <div class="month-year"><p><span>Sep</span><br />2006</p></div>



        
          <div class="post-title">
            <h5>
              <a href="/2006/09/23/base4-and-castle/" title="">Base4 and Castle</a>
            </h5>
          </div> 
        
        <div class="clear"></div>
      </div>
      <!-- end of post heading -->
      
      <!-- start of post meta -->
      <div class="post-meta">
        <p>
           
  

<span class="byline author vcard">Posted by <span class="fn">Ivan Porto Carrero</span></span>

           
         </p>  
      </div>
      <!-- end of post meta -->
      
 

  <div class="entry-content"><p>Something I found very useful to use in <a href="http://www.castleproject.org/">castle</a> is <a href="http://www.base4.net/">Base4</a> </p>

<p>And as it so happens <a href="http://www.fastchicken.co.nz/blog/">Nic Wise</a> just asked me if you could use the 2 together. The answer is yes you can.</p>

<p>I know they support <a href="http://www.nhibernate.org/">nhibernate</a> but that is not really the same :)  <a href="http://www.base4.net/">Base4</a> just goes that extra mile.</p>

<p>Since data access is always the same. And the examples on the castle site use concrete implementations of data access objects. I thought I really don&#8217;t need a facility for the moment and can just use base4.</p>

<p>Anyway here is the class I use to do all my data access. it&#8217;s an abstract class that has concrete implementations so that I can extend the functionality if I need to.</p>

<p>The interface for the class (the colors look different on my screen I swear  the gray bits should be some type of blue and the yellow also isn&#8217;t quite right):</p>

<p> </p>

<p>using System;</p>

<p>namespace TimeSheets.Application.Contract.Data</p>

<p>{</p>

<p>    public interface IDataObject<T></p>

<p>    where T : class, Base4.Storage.IItem, new()</p>

<p>    {</p>

<p>        void Delete(T item);</p>

<p>        Base4.Storage.IItemList<T> Find(string oPath, string sortExpression, int pageNumber, int pageSize, out int pageCount);</p>

<p>        Base4.Storage.IItemList<T> Find(string oPath, string sortExpression);</p>

<p>        Base4.Storage.IItemList<T> Find(string oPath);</p>

<p>        Base4.Storage.IItemList<T> FindAll(string sortExpression, int pageNumber, int pageSize, out int pageCount);</p>

<p>        Base4.Storage.IItemList<T> FindAll(string sortExpression);</p>

<p>        Base4.Storage.IItemList<T> FindAll();</p>

<p>        Base4.Storage.IItemList<T> FindById(Guid Id);</p>

<p>        T GetById(Guid Id);</p>

<p>        T GetOne(string oPath);</p>

<p>        T Insert(T item);</p>

<p>        string SortExpression { get; set; }</p>

<p>        T Update(T item);</p>

<p>    }</p>

<p>}</p>

<p> </p>

<p>And this is the abstract class :</p>

<p> </p>

<p>using System;</p>

<p>using System.Collections.Generic;</p>

<p>using System.Text;</p>

<p>using Base4.Storage;</p>

<p>using System.ComponentModel;</p>

<p> </p>

<p>namespace TimeSheets.Application.Base</p>

<p>{</p>

<p> </p>

<p>    ///</p>

<p>    /// A generic class that handles data access through Base4</p>

<p>    ///</p>

<p>    ///</p>

<p>    public abstract class BaseDataObject<T> : Base.DataObject, Contract.Data.IDataObject<T> where T : class,IItem, new()</p>

<p>    {</p>

<p>        private string m_SortExpression;</p>

<p> </p>

<p>        ///</p>

<p>        /// Gets or sets the sort expression.</p>

<p>        ///</p>

<p>        /// The sort expression.</p>

<p>        public virtual string SortExpression</p>

<p>        {</p>

<p>            get { return m_SortExpression; }</p>

<p>            set { m_SortExpression = value; }</p>

<p>        }</p>

<p> </p>

<p>        ///</p>

<p>        /// Finds the specified in the object path.</p>

<p>        ///</p>

<p>        /// The Object path.</p>

<p>        ///</p>

<p>        public virtual IItemList<T> Find(string oPath)</p>

<p>        {</p>

<p>            //set the default sort expression to none</p>

<p>            this.m_SortExpression = string.Empty;</p>

<p> </p>

<p>            //Get my stuff</p>

<p>            return StorageContext.Find<T>(initialiseObjectPath(new ObjectPath(oPath)));</p>

<p>        }</p>

<p> </p>

<p>        ///</p>

<p>        /// Finds the specified Object path sorted by the provided sort expression.</p>

<p>        ///</p>

<p>        /// The Object path.</p>

<p>        /// The sort expression.</p>

<p>        ///</p>

<p>        public virtual IItemList<T> Find(string oPath, string sortExpression)</p>

<p>        {</p>

<p>            //Set the default sort expression</p>

<p>            this.m_SortExpression = sortExpression;</p>

<p> </p>

<p>            //Get the data out</p>

<p>            return StorageContext.Find<T>(initialiseObjectPath(new ObjectPath(oPath)));</p>

<p>        }</p>

<p> </p>

<p>        ///</p>

<p>        /// Finds the specified Object path with server side paging.</p>

<p>        ///</p>

<p>        /// The Object path.</p>

<p>        /// The sort expression.</p>

<p>        /// The page number.</p>

<p>        /// Size of the page.</p>

<p>        /// The page count.</p>

<p>        ///</p>

<p>        public virtual IItemList<T> Find(string oPath, string sortExpression, int pageNumber, int pageSize, out int pageCount)</p>

<p>        {</p>

<p>            //initialise the pagecount parameter</p>

<p>            pageCount = 0;</p>

<p> </p>

<p>            //Set the pagecount parameter tot he actual value</p>

<p>            pageCount = (int)Math.Ceiling(Convert.ToDouble(getCount() / pageSize));</p>

<p> </p>

<p>            //if we got a sort expression do initialize with it please</p>

<p>            if (!string.IsNullOrEmpty(sortExpression))</p>

<p>                m_SortExpression = sortExpression;</p>

<p> </p>

<p>            //initialise the object pathe with the provide oPath parameter and initialise the order by</p>

<p>            ObjectPath path = initialiseObjectPath(new ObjectPath(oPath));</p>

<p> </p>

<p>            //Tell Base4 which page to retrieve</p>

<p>            path.PageSize = pageSize;</p>

<p>            path.PageNumber = pageNumber;</p>

<p> </p>

<p>            //Get the items</p>

<p>            return StorageContext.Find<T>(path);</p>

<p>        }</p>

<p> </p>

<p>        ///</p>

<p>        /// Finds all items.</p>

<p>        ///</p>

<p>        ///</p>

<p>        public virtual IItemList<T> FindAll()</p>

<p>        {</p>

<p>            this.m_SortExpression = string.Empty;</p>

<p>            return StorageContext.Find<T>(initialiseObjectPath());</p>

<p>        }</p>

<p> </p>

<p>        ///</p>

<p>        /// Finds all the items sorted.</p>

<p>        ///</p>

<p>        /// The sort expression.</p>

<p>        ///</p>

<p>        public virtual IItemList<T> FindAll(string sortExpression)</p>

<p>        {</p>

<p>            this.m_SortExpression = sortExpression;</p>

<p>            return StorageContext.Find<T>(initialiseObjectPath());</p>

<p>        }</p>

<p> </p>

<p>        ///</p>

<p>        /// Finds all.</p>

<p>        ///</p>

<p>        /// The sort expression.</p>

<p>        /// The page number.</p>

<p>        /// Size of the page.</p>

<p>        /// The page count.</p>

<p>        ///</p>

<p>        public virtual IItemList<T> FindAll(string sortExpression, int pageNumber, int pageSize, out int pageCount)</p>

<p>        {</p>

<p>            //initialise the pagecount parameter</p>

<p>            pageCount = 0;</p>

<p> </p>

<p>            //Set the pagecount parameter tot he actual value</p>

<p>            pageCount = (int)Math.Ceiling(Convert.ToDouble(getCount() / pageSize));</p>

<p> </p>

<p>            //if we got a sort expression do initialize with it please</p>

<p>            if (!string.IsNullOrEmpty(sortExpression))</p>

<p>                m_SortExpression = sortExpression;</p>

<p> </p>

<p>            //initialise the object pathe with the provide oPath parameter and initialise the order by</p>

<p>            ObjectPath path = initialiseObjectPath();</p>

<p> </p>

<p>            //Tell Base4 which page to retrieve</p>

<p>            path.PageSize = pageSize;</p>

<p>            path.PageNumber = pageNumber;</p>

<p> </p>

<p>            //Get the items</p>

<p>            return StorageContext.Find<T>(path);</p>

<p>        }</p>

<p> </p>

<p>        //internal method that gives the rowcount of all items.</p>

<p>        protected int getCount()</p>

<p>        {</p>

<p>            return StorageContext.FindAll<T>().Count;</p>

<p>        }</p>

<p> </p>

<p>        protected ObjectPath initialiseObjectPath()</p>

<p>        {</p>

<p>            ObjectPath path = new ObjectPath();</p>

<p>            return initialiseObjectPath(path);</p>

<p>        }</p>

<p> </p>

<p>        ///</p>

<p>        /// Initialises the object path.</p>

<p>        ///</p>

<p>        /// The path.</p>

<p>        ///</p>

<p>        protected ObjectPath initialiseObjectPath(ObjectPath path)</p>

<p>        {</p>

<p>            //Do we have a sort expression</p>

<p>            if (!string.IsNullOrEmpty(m_SortExpression) &amp;&amp; m_SortExpression.Trim().Length > 0)</p>

<p>            {</p>

<p>                //Give me all the sort parameters</p>

<p>                string[] sortParams = m_SortExpression.Split(&#8220;,&#8221;.ToCharArray());</p>

<p> </p>

<p>                //Now go work out their object path</p>

<p>                foreach (string s in sortParams)</p>

<p>                {</p>

<p>                    //Work out the direction</p>

<p>                    OrderByDirection direction = s.IndexOf(&#8220;DESC&#8221;) > -1 ? OrderByDirection.Descending : OrderByDirection.Ascending;</p>

<p> </p>

<p>                    //Work out the column</p>

<p>                    string orderby = s.Substring(0, s.IndexOf(&#8220;DESC&#8221;) > -1 ? s.IndexOf(&#8220;DESC&#8221;) : s.Length);</p>

<p> </p>

<p>                    path.AddOrderBy(orderby, direction);</p>

<p>                }</p>

<p>            }</p>

<p> </p>

<p>            return path;</p>

<p>        }</p>

<p> </p>

<p>        ///</p>

<p>        /// Gets the Item as an item through a specified Object path.</p>

<p>        ///</p>

<p>        /// The Object path.</p>

<p>        ///</p>

<p>        public virtual T GetOne(string oPath)</p>

<p>        {</p>

<p>            return StorageContext.FindOne<T>(new ObjectPath(oPath));</p>

<p>        }</p>

<p> </p>

<p>        ///</p>

<p>        /// Finds the item by id and returns a list.</p>

<p>        ///</p>

<p>        /// The id.</p>

<p>        ///</p>

<p>        public virtual IItemList<T> FindById(Guid Id)</p>

<p>        {</p>

<p>            IItemList<T> itemList = StorageContext.Find<T>(&#8220;Id=&#8217;{0}&#8217;&#8221;, Id.ToString());</p>

<p>            return itemList.Count > 0 ? itemList : new ItemList<T>() as IItemList<T>;</p>

<p>        }</p>

<p> </p>

<p>        ///</p>

<p>        /// Gets the item by id as an item.</p>

<p>        ///</p>

<p>        /// The id.</p>

<p>        ///</p>

<p>        public virtual T GetById(Guid Id)</p>

<p>        {</p>

<p>            IItemList<T> itemList = FindById(Id);</p>

<p>            return itemList.Count > 0 ? itemList[0] : new T();</p>

<p>        }</p>

<p> </p>

<p>        ///</p>

<p>        /// Inserts the specified item.</p>

<p>        ///</p>

<p>        /// The item.</p>

<p>        ///</p>

<p>        public virtual T Insert(T item)</p>

<p>        {</p>

<p>            ((IItem)item).Save();</p>

<p> </p>

<p>            return item;</p>

<p>        }</p>

<p> </p>

<p>        ///</p>

<p>        /// Updates the specified item.</p>

<p>        ///</p>

<p>        /// The item.</p>

<p>        ///</p>

<p>        public virtual T Update(T item)</p>

<p>        {</p>

<p>            ((IItem)item).Save();</p>

<p> </p>

<p>            return item;</p>

<p>        }</p>

<p> </p>

<p>        ///</p>

<p>        /// Deletes the specified item.</p>

<p>        ///</p>

<p>        /// The item.</p>

<p>        public virtual void Delete(T item)</p>

<p>        {</p>

<p>            ((IItem)item).Delete();</p>

<p> </p>

<p>        }</p>

<p>    }</p>

<p>}</p>

<p>This is the concrete implementation:</p>

<p> </p>

<p>using Fogcreek.FogbugzEx;</p>

<p> </p>

<p>namespace TimeSheets.Application.Dao</p>

<p>{</p>

<p>    public class TimesheetDao : Base.BaseDataObject<Timesheet></p>

<p>    {</p>

<p>    }</p>

<p>}</p>
</div>
  
  


    </article>
    <!-- divider for blog post -->
    <div class="divider"></div>
  
  
    <article class="blogpost row">
      
  <div class="post-heading"> 
        



    <p class="date">23</p>  
    <div class="month-year"><p><span>Sep</span><br />2006</p></div>



        
          <div class="post-title">
            <h5>
              <a href="/2006/09/23/a-bit-further-down-the-castle-track/" title="">A Bit Further Down the Castle Track</a>
            </h5>
          </div> 
        
        <div class="clear"></div>
      </div>
      <!-- end of post heading -->
      
      <!-- start of post meta -->
      <div class="post-meta">
        <p>
           
  

<span class="byline author vcard">Posted by <span class="fn">Ivan Porto Carrero</span></span>

           
         </p>  
      </div>
      <!-- end of post meta -->
      
 

  <div class="entry-content"><p>I&#8217;ve been playing with <a href="http://www.castleproject.org/">castle</a> all day yesterday and I can say the more I work with it the more I like it and start to see the full power of the framework.</p>

<p><a href="http://www.flanders.co.nz/Blog/2006/09/20/AmITooLate.aspx">My previous post</a> was more about my frustrations when using the <a href="http://www.asp.net">webforms model</a>.</p>

<p>One of castle&#8217;s strengths is the <a href="http://en.wikipedia.org/wiki/Inversion_of_control">Inversion of Control pattern</a>, an introduction to IoC can be found on the Joy of code <a href="http://www.thejoyofcode.com/The_Awesome_Power_of_IoC.aspx#comments">partI</a>, <a href="http://www.thejoyofcode.com/The_Awesome_Power_of_IoC_Part_II.aspx#comments">partII</a>.  In castle they apply it via the <a href="http://www.castleproject.org/index.php/Windsor_Container">windsor container</a></p>

<p>An introduction to castle can be found on the codeproject : <br/>
<a href="http://www.codeproject.com/cs/design/introducingcastle.asp">Introducing castle part I</a><br/>
<a href="http://www.codeproject.com/cs/design/introducingcastleii.asp">Introducing castle part II</a></p>

<p>If you&#8217;re creating a website that has not a lot of interaction or a very complex interface you probably won&#8217;t benefit too much from castle. However if you know your project will be growing a lot or the interface is becoming quite complex then you&#8217;re probably better of using castle.</p>

<p>Asp.NET gives you instant speed for development but this slows down as the project becomes larger and your pages more complex it loses it&#8217;s power and attraction, at least in my case.  If you have ever spent a couple of hours on a site figuring out why something doesn&#8217;t have a value that should have one etc. you&#8217;ll understand what I&#8217;m talking about probably.</p>

<p>Castle on the other hand starts to really shine the more complex you&#8217;re application gets.  You define something once and you can re-use it in your whole application.  This is nice it means I can define a master layout, have a standard layout render in that master so I have a page :)</p>

<p>If you then add a list to that page with a detail you&#8217;ll quickly see that you would be able to call that listview over and over again from anywhere.<br/>
Yes, I see the power of castle. The question is do you ?</p>

<p>Tomorrow I&#8217;ll start a series on how to create a master detail using castle if somebody is interested. One that walks you through all the steps involved because I had a hard time figuring some stuff out. Not too hard if you consider that it took me about 1 week to get started with asp.net and about 2 weeks to get started with the atlas library. I have a written a timesheet application in  a couple of hours</p>
</div>
  
  


    </article>
    <!-- divider for blog post -->
    <div class="divider"></div>
  
  
    <article class="blogpost row">
      
  <div class="post-heading"> 
        



    <p class="date">20</p>  
    <div class="month-year"><p><span>Sep</span><br />2006</p></div>



        
          <div class="post-title">
            <h5>
              <a href="/2006/09/20/am-i-too-late/" title="">Am I Too Late ?</a>
            </h5>
          </div> 
        
        <div class="clear"></div>
      </div>
      <!-- end of post heading -->
      
      <!-- start of post meta -->
      <div class="post-meta">
        <p>
           
  

<span class="byline author vcard">Posted by <span class="fn">Ivan Porto Carrero</span></span>

           
         </p>  
      </div>
      <!-- end of post meta -->
      
 

  <div class="entry-content"><p>Yesterday I had a discussion with <a href="http://www.base4.net/Blog.aspx">Alex</a> about asp.NET where I vented some of the frustrations I have building a CRM application on one form with multiple user controls that have enough functionality in them that other people would create separate pages for it.</p>

<p>I don&#8217;t like the fact that you loose information about something you&#8217;re working on because you need to change a small piece of a bigger whole.</p>

<p>Anyway my problem is that to do something that is more complex than just simply displaying one form on a page asp.NET gets pretty complicated. Events are firing all over the place. I have to take viewstate into account. (I turned viewsate off because it was about 50K half way through my app.) And then it became even more difficult to get stuff to respond the way I want them to respond.</p>

<p>All in all it takes a really long time before I get something done properly. Where all it is actually doing is rendering small portions html out to the browser.</p>

<p>I have also been discussing with Alex on how to create something that takes a view definition and merges it with base4 domain objects to get to a view.</p>

<p>Well enter the <a href="http://www.castleproject.org/">castle project</a>. I looked at it before but never really saw the point. Yesterday I got down and dirty with it and let me tell you I DO see the point now.</p>

<p>The way they built their framework resembles very closely how I was going to build ours.</p>

<p>It provides a more natural way of creating webpages in my mind than trying to force a winform programming model into a stateless model. Not to mention the speed in which you get things done.</p>

<p><a href="http://www.thejoyofcode.com/The_Awesome_Power_of_IoC.aspx">I&#8217;m not the only one who joins the party this late</a></p>
</div>
  
  


    </article>
    <!-- divider for blog post -->
    <div class="divider"></div>
  
  
    <article class="blogpost row">
      
  <div class="post-heading"> 
        



    <p class="date">17</p>  
    <div class="month-year"><p><span>Sep</span><br />2006</p></div>



        
          <div class="post-title">
            <h5>
              <a href="/2006/09/17/underwear-goes-inside-the-pants/" title="">Underwear Goes Inside the Pants</a>
            </h5>
          </div> 
        
        <div class="clear"></div>
      </div>
      <!-- end of post heading -->
      
      <!-- start of post meta -->
      <div class="post-meta">
        <p>
           
  

<span class="byline author vcard">Posted by <span class="fn">Ivan Porto Carrero</span></span>

           
         </p>  
      </div>
      <!-- end of post meta -->
      
 

  <div class="entry-content"><p>On myspace there is a page dedicated to a song <a href="http://profile.myspace.com/index.cfm?fuseaction=user.viewprofile&amp;friendID=74874292">Underwear goes inside the pants by Lazy Boy</a></p>

<p>I got to this page via the blog of a friend of mine,<a href="http://blog.coolz0r.com/2006/09/18/underwear-goes-inside-the-pants/">Miel Van Opstal</a> </p>

<p>It&#8217;s worth a listen definitely. An excerpt of the lyrics would be:</p>

<p><em>There are homeless people everywhere.<br/>
This homeless guy asked me for money the other day.<br/>
I was about to give it to him and then I thought he was going to use it on drugs or alcohol.<br/>
And then I thought, that’s what I’m going to use it on.<br/>
Why am I judging this poor bastard.<br/>
People love to judge homeless guys. Like if you give them money they’re just going to waste it.<br/>
Well, he lives in a box, what do you want him to do? Save it up and buy a wall unit?</em></p>

<p>Enjoy.</p>
</div>
  
  


    </article>
    <!-- divider for blog post -->
    <div class="divider"></div>
  
  
    <article class="blogpost row">
      
  <div class="post-heading"> 
        



    <p class="date">16</p>  
    <div class="month-year"><p><span>Sep</span><br />2006</p></div>



        
          <div class="post-title">
            <h5>
              <a href="/2006/09/16/open-source-project-management/" title="">Open Source Project Management</a>
            </h5>
          </div> 
        
        <div class="clear"></div>
      </div>
      <!-- end of post heading -->
      
      <!-- start of post meta -->
      <div class="post-meta">
        <p>
           
  

<span class="byline author vcard">Posted by <span class="fn">Ivan Porto Carrero</span></span>

           
         </p>  
      </div>
      <!-- end of post meta -->
      
 

  <div class="entry-content"><p>Yesterday I got to meet an <a href="http://futureneutral.blogspot.com/">Argentinian guy</a> who joined the <a href="http://www.nblogr.com">NBlogr</a></p>

<p>He showed me a couple of really cool sites that I thought would be a good idea to share.</p>

<p>An open-source resource oriented project management system : <a href="http://www.openworkbench.org/">Open Workbench</a></p>

<p>An open-source search engine (finds open source programs built on Lucence) : <a href="http://www.krugle.com/">Krugle</a> </p>

<p>And last but not least an article on the codeproject :</p>

<p>This article describes a &#8220;script engine&#8221; for the C# language. Here are some of the key features of the presented scripting system:</p>

<ul>
<li>Based on the full featured C#.</li>
<li>Full access to CLR and CTS.</li>
<li>Can be run with any version of CLR (.NET 1.1/2.0), even potentially with future releases.</li>
<li>Possibility of extending the functionality of any CLR application with &#8220;scripting&#8221;, by hosting the script engine in this application.</li>
<li>Integration with common IDEs and debuggers.</li>
<li>Integration with OS.</li>
<li>Availability of comprehensive documentation (local and online Help, tutorials, samples&#8230;).</li>
</ul>


<p><a href="http://www.codeproject.com/csharp/cs-script_for_cp.asp">http://www.codeproject.com/csharp/cs-script_for_cp&#8230;</a></p>
</div>
  
  


    </article>
    <!-- divider for blog post -->
    <div class="divider"></div>
  
  
    <article class="blogpost row">
      
  <div class="post-heading"> 
        



    <p class="date">15</p>  
    <div class="month-year"><p><span>Sep</span><br />2006</p></div>



        
          <div class="post-title">
            <h5>
              <a href="/2006/09/15/adding-a-dynamic-language-to-the-toolbelt/" title="">Adding a Dynamic Language to the Toolbelt</a>
            </h5>
          </div> 
        
        <div class="clear"></div>
      </div>
      <!-- end of post heading -->
      
      <!-- start of post meta -->
      <div class="post-meta">
        <p>
           
  

<span class="byline author vcard">Posted by <span class="fn">Ivan Porto Carrero</span></span>

           
         </p>  
      </div>
      <!-- end of post meta -->
      
 

  <div class="entry-content"><p>It may or may not be a surprise to people that read my blog but I do web development and really like it.  But lately I feel constricted in my programming environment so I want to add another language. But let me share some of my history first.</p>

<p>I started programming as a young boy and wrote my first menu system for my pc when I was 8 I think. It was nothing really complicated a series of batch scripts so that my mother could easily navigate the pc. She has been having problems with a computer for as long as I can remember :) </p>

<p>After that I moved to GW BASIC like other people will have had the pleasure of jumping back and forth to line numbers. A couple of years later I wrote snake in that language and some game related to soccer.</p>

<p>Around that time they put QuickBasic on the market and this is the point where everything that has the name Basic in it just looses my attention. Dim variable type = value just does NOT feel natural to me and that is just a variable declaration.. Don&#8217;t get me started on the other stuff.</p>

<p>So I kind of lost track of pc for a while and got a bass guitar instead.  Also a lot of fun, and the coolnes factor is not to be underestimated.</p>

<p>Next I came in contact with TurboPascal (I&#8217;m still not talking Object Oriented here) I think Turbopascal 4 and 5 it was, that I used to program some stuff in. Turbo pascal was a cool language and i wrote Black jack in that as my end project for the IT course in year 9 (3rd year of high school).</p>

<p>Next I didn&#8217;t really program at night anymore due to family related things and the fact that I didn&#8217;t have a pc at home would have a lot to do with it. This situation remained until I was 20 something. I must say that I did meet a lot of girls and learnt how to pour cocktails etc :) <br/>
In school I did get to do some programming I learnt dbaseIV and access.</p>

<p>So then I lost track of pc / IT all together for a while until I got a job as a helpdesk officer at an ISP. Helpdesk officer ==> Team leader ==> Junior Network engineer ==> Own business as webdevelopment.</p>

<p>I hadn&#8217;t programmed in a long time 8+ years but had asked all the companies that hired me if I could get to some programming soon. Of course I could but never really got to do it. That&#8217;s why I started my own company and so I re-learnt programming 3 years ago. I started with .NET in visual basic.NET that lasted about 5 days and switched to C#.</p>

<p>Now 3 years later I know how to write C#, javascript, actionscript, xml, xsl, xsl-fo, T-SQL And that would be it. Not too much but also not too bad for 3 years working knowledge.</p>

<p>Lately there has been ruby on stage as THE buzzword for productivity in programming. I think that it is more dynamic languages that are the strong point. Things I like in javascript are the anonymous functions or whatever they are called (  mypage.doSomework(&#8216;myVar&#8217;, function(){ do some other work in a function }); ) would be an example.</p>

<p>Although a couple of people have been complaining about <a href="http://www.joelonsoftware.com/items/2006/09/12.html">Joel&#8217;s posts on ruby</a>. And I do think that on ruby Joel doesn&#8217;t hit the nail on the head but generally he does. <a href="http://www.iunknown.com/articles/2006/09/12/joel-spolsky-abducted-by-aliens">John Lam</a> strongly disagrees but he wrote <a href="http://www.rubyclr.com/">rubyclr</a> so he&#8217;s allowed to be defending his camp.</p>

<p>Anyway I felt it was time to learn a new language. Since everything I know are mostly C-based languages I toyed with the idea of C++ but then I feel like I should practice a different strain of languages. <br/>
As you may or may not know, I talk quite a lot to Alex James of <a href="http://www.base4.net/">Base4</a>. And he put me on to ironpython.  The choice falls on <a href="http://www.codeplex.com/Wiki/View.aspx?ProjectName=IronPython">IronPython</a> or <a href="http://www.rubyclr.com/">Ruby</a> at this point.  On investigating both languages i came to the constation that they are both very similar like java and c# or javascript and actionscript.</p>

<p>And tonight I made a decission on which language to learn and it is <a href="http://www.codeplex.com/Wiki/View.aspx?ProjectName=IronPython">IronPython</a>.  <br/>
Going by the rule if both sides of a dilemma are equal chose the one with the biggest emotional response :) So I chose <a href="http://www.codeplex.com/Wiki/View.aspx?ProjectName=IronPython">IronPython</a> because it is invented by <a href="http://www.python.org/~guido/">Guido Van Rossum</a> (on <a href="http://en.wikipedia.org/wiki/Guido_van_Rossum">wikipedia</a>) who is a dutch guy which coincidentally happens to be my native language but I&#8217;m from Belgium so a very different accent.</p>

<p>I&#8217;ll let you know how the python adventures go as i move through them.. But depending on the workload I have I might not be able to do much with it in a short period of time.</p>
</div>
  
  


    </article>
    <!-- divider for blog post -->
    <div class="divider"></div>
  
  
    <article class="blogpost row">
      
  <div class="post-heading"> 
        



    <p class="date">14</p>  
    <div class="month-year"><p><span>Sep</span><br />2006</p></div>



        
          <div class="post-title">
            <h5>
              <a href="/2006/09/14/in-all-fairness-to-flight-center/" title="">In All Fairness to Flight Center</a>
            </h5>
          </div> 
        
        <div class="clear"></div>
      </div>
      <!-- end of post heading -->
      
      <!-- start of post meta -->
      <div class="post-meta">
        <p>
           
  

<span class="byline author vcard">Posted by <span class="fn">Ivan Porto Carrero</span></span>

           
         </p>  
      </div>
      <!-- end of post meta -->
      
 

  <div class="entry-content"><p>Flight center has posted a comment on the post that dealt with flight center.</p>

<p>It&#8217;s quite lengthy so I&#8217;ll just reblog it in a proper post.</p>

<p> </p>

<p>Hi Ivan, <br/>
Here&#8217;s our response to Craig, let me know if you have any more questions: <br/>
Hi Craig, <br/>
Your matter has now been discussed at length within our organisation, and while I can’t offer you the answer you want, I can certainly explain exactly how we have reached our conclusions, and offer further explanations to some of the questions you have posed. I have also posted this on your blog, and the other blogs that have been looking at this issue. <br/>
It’s very easy in blogs to portray a company as obstinate and heartless, but we have a very good track record of doing our utmost to solve any problem encountered by our clients – as you will appreciate, in the extremely competitive environment that is international travel, every client you have is one you try your best to keep. <br/>
But in this case we have assessed all of the evidence presented, including me personally contacting some of the people you have listed in your email, and have still come to the same conclusion – our agent would never have offered you indefinite validity on an overseas ticket. <br/>
The main reason for this are: <br/>
1. Tickets never have indefinite validity. This is one of the fundamental rules of air travel, and something our agents are trained in and reminded of on an ongoing basis. It would be just too high a liability for airlines to issue tickets such as this. In fact I can think of no tickets for services that have indefinite validity. Imagine cashing in an airfare bought in the early 1990’s for current air travel. <br/>
2. You had a complicated itinerary (hence the cost): <br/>
Outbound: Christchurch-Auckland-LA-Munich-Bratislava <br/>
Return: Bratislava-Munich-LA-Seattle-LA-Auckland-Christchurch <br/>
This is a very extensive return journey to book for an indefinite stay, something that would have been impossible to organise for indefinite travel, as you would have had to secure all these different legs to line up as indefinite. <br/>
3. You are a good client, you were spending a large amount of money with our agent whether buying one way or return, she would quickly have to take responsibility for her comments when you inevitably wanted to take up the return journey, and above all she is a well-respected and honest part of our team. Why, then, would she even consider ‘shafting’ you? <br/>
The evidence you have provided is circumstantial at best, and in a case of ‘he said, she said’, we, like any other organisation, will back our people when we are convinced our team member is genuine and the evidence compelling. She could not have said this by mistake, and the fact that not only would she not mislead you, but there would also be no real benefit from misleading you, speaks for itself. <br/>
Yes, we understand from the references you have provided that you felt you may not return. In this light, we strongly believe that you have either misheard or misjudged the terms of your tickets, thinking there would be some way to extend you tickets indefinitely. Again, it is extremely unfortunate, but there is no way to extend these tickets - we have exhausted every avenue over the past three months in searching for a way. <br/>
I apologise for bringing in the possibility of legal action, it was unnecessary, and a full and comprehensive answer should have always be the first port of call. This is the first time we have had to deal with a problem within a blog, and our response left much to be desired. I realise this will continue to be an ongoing debate within the blogosphere, but I offer anyone the chance to contact me and discuss this matter, as we want to keep our lines of communication open. <br/>
We have received a great deal of negative feedback (towards the individual concerned in particular) from the many people who have viewed this blog and the blogs that have now linked to it without offering our full side of the story. It is also our assessment that our company has already suffered a loss of business more than the costs of the refund, and will continue to suffer adverse effects from the posts. But we simply can’t pay off everyone who threatens our people with a high profile, negative blogging campaign. We will instead proactively discuss these points within whatever medium they come up, including this and any other blogs that have these threads, on a case by case basis. We would of course prefer the old method of conflict resolution, but we are quickly learning to adapt in this brave new world. <br/>
This is our point of view in a nutshell, and I hope you can understand that unless new and compelling evidence presents itself, it will not change. We would appreciate it if you could also remove the names and contact details of other participants in this dialogue; anyone wanting clarification or to make a further point is welcome to contact me on john.mcguinnessAT NOSPAMflightcentre dot co dot nz.</p>

<p>Yours sincerely, <br/>
John McGuinness <br/>
Communications Manager <br/>
Flight Centre (NZ) Ltd</p>
</div>
  
  


    </article>
    <!-- divider for blog post -->
    <div class="divider"></div>
  
  
    <article class="blogpost row">
      
  <div class="post-heading"> 
        



    <p class="date">13</p>  
    <div class="month-year"><p><span>Sep</span><br />2006</p></div>



        
          <div class="post-title">
            <h5>
              <a href="/2006/09/13/a-good-visual-of-the-aspnet-page-life-cycle/" title="">A Good Visual of the asp.net Page Life Cycle</a>
            </h5>
          </div> 
        
        <div class="clear"></div>
      </div>
      <!-- end of post heading -->
      
      <!-- start of post meta -->
      <div class="post-meta">
        <p>
           
  

<span class="byline author vcard">Posted by <span class="fn">Ivan Porto Carrero</span></span>

           
         </p>  
      </div>
      <!-- end of post meta -->
      
 

  <div class="entry-content"><p>While I was looking for something completely unrelated. I came across this picture.</p>

<p>It&#8217;s a detailed graph on the page life cycle with the controls covering both asp.net 1.1 and 2.0</p>

<p><a href="http://pointerx.net/photos/screenshots/images/852/original.aspx">http://pointerx.net/photos/screenshots/images/852/&#8230;</a></p>
</div>
  
  


    </article>
    <!-- divider for blog post -->
    <div class="divider"></div>
  
  
    <article class="blogpost row">
      
  <div class="post-heading"> 
        



    <p class="date">11</p>  
    <div class="month-year"><p><span>Sep</span><br />2006</p></div>



        
          <div class="post-title">
            <h5>
              <a href="/2006/09/11/base4-has-joined-nblogr-on-codeplex/" title="">Base4 Has Joined NBlogr on Codeplex</a>
            </h5>
          </div> 
        
        <div class="clear"></div>
      </div>
      <!-- end of post heading -->
      
      <!-- start of post meta -->
      <div class="post-meta">
        <p>
           
  

<span class="byline author vcard">Posted by <span class="fn">Ivan Porto Carrero</span></span>

           
         </p>  
      </div>
      <!-- end of post meta -->
      
 

  <div class="entry-content"><p><a href="http://www.base4.net/">Alex James</a> just informed me that base4 <a href="http://www.codeplex.com/Wiki/View.aspx?ProjectName=Base4">relocated to codeplex</a></p>

<p>That is good news they live closer together now.</p>

<p>Just a refresher you can get <a href="http://www.nblogr.com">NBlogr</a> also from <a href="http://www.codeplex.com/Wiki/View.aspx?ProjectName=NBlogr">codeplex</a></p>
</div>
  
  


    </article>
    <!-- divider for blog post -->
    <div class="divider"></div>
  
  
    <article class="blogpost row">
      
  <div class="post-heading"> 
        



    <p class="date">10</p>  
    <div class="month-year"><p><span>Sep</span><br />2006</p></div>



        
          <div class="post-title">
            <h5>
              <a href="/2006/09/10/history-and-back-button-support-for-atlas/" title="">History and Back Button Support for ATLAS</a>
            </h5>
          </div> 
        
        <div class="clear"></div>
      </div>
      <!-- end of post heading -->
      
      <!-- start of post meta -->
      <div class="post-meta">
        <p>
           
  

<span class="byline author vcard">Posted by <span class="fn">Ivan Porto Carrero</span></span>

           
         </p>  
      </div>
      <!-- end of post meta -->
      
 

  <div class="entry-content"><p>Nikhil comes yet again with an elegant solution to a nasty problem.</p>

<p>When using an update panel the back button behavior gets broken. Nikhil Kothari wrote a history control that puts the developer in control of the navigational path through the website.</p>

<p><a href="http://www.nikhilk.net/Entry.aspx?id=139">http://www.nikhilk.net/Entry.aspx?id=139</a></p>
</div>
  
  


    </article>
    <!-- divider for blog post -->
    <div class="divider"></div>
  
  <div class="pagination">
    
      <a class="prev" href="/page/19/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/page/17/">Newer &rarr;</a>
    
  </div>
</div>
</div>


      </div>
    </div>
    <footer role="contentinfo"><!-- start of footer container -->
  <div class="container">
    <!-- start of row - 4 widget columns -->
      <div class="row clearfix">
      <div class="twelve columns">
        <div class="logo">
          <img src="/images/logo.png" alt="" />
          <h2>Rants &amp; ramblings</h2>
        </div>
      </div>

      <div class="four columns">        
        <h6>Social networks</h6>
        <ul class="social_network">
          <li class="rollover"><a href="http://facebook.com/ivanportocarrero" class="yellowtip" title="Facebook"><span class="fb-rollover"></span><img src="/images/social/fb.png" alt="" /></a></li>
          <li class="rollover"><a href="http://twitter.com/casualjim" class="yellowtip" title="Follow me"><span class="twitter-rollover"></span><img src="/images/social/twitter.png" alt="" /></a></li>
          <li class="rollover"><a href="https://plus.google.com/u/1/106536131996809745163/posts" class="yellowtip" title="Google plus"><span class="google-rollover"></span><img src="/images/social/google-plus.png" alt="" /></a></li>
        </ul>       
      </div>
    </div>
    <!-- end of row -->
  
    <!-- start of row - 4 widget columns -->
      <div class="row clearfix">
      <div class="eight columns">
        <h6>About me</h6>
        <p>
        Welcome to my blog. This is a collection of random thoughts and rants.
        </p>
        <p>
        Allow me to introduce myself. My name is Ivan Porto Carrero and I'm an enthusiastic developer on  Scala, .NET and Ruby.<br />Through this blog I hope I can share some of that passion and maybe help somebody out when they are looking on how to do something.
        </p>
      </div>
      <div class="four columns">
        <h6>Latest posts</h6>
        <ul class="square">
        
          <li>
            <a href="/2011/08/01/backchat-developers/">work for backchat</a>
          </li>
        
          <li>
            <a href="/2010/09/30/radical-language-and-platform-shift/">Radical language and platform shift</a>
          </li>
        
          <li>
            <a href="/2010/03/12/video-of-fosdem-ironruby-presentation/">Video of FOSDEM IronRuby presentation</a>
          </li>
        
          <li>
            <a href="/2009/12/01/adding-a-console-to-your-ironruby-application/">Adding a console to your IronRuby application</a>
          </li>
        
          <li>
            <a href="/2009/11/08/a-good-url-regular-expression-repost/">A good url regular expression? (repost)</a>
          </li>
        
        </ul> 
      </div>
      <div class="four columns">
        <h6>Browse pages</h6>
        <ul class="square">
          <li><a href="/">Home</a></li>
          <li><a href="/archives">Archives</a></li>
          <li><a href="/projects">My projects</a></li>
        </ul> 
      </div>
    </div>
    <!-- end of row -->
    

    <!-- start of footer divider -->
    <div class="sixteen columns">
      <div class="footer-divider row"></div>
    </div>  
    <!-- end of footer divider -->
    
    <!-- start of bottoms -->
    <div class="clearfix footnote">
      <div class="eight columns">
        <p class="copyright">Copyright &copy; 2012 - Ivan Porto Carrero - All Right Reserved</p>
      </div>
      <div class="eight columns">
        <p class="align-right"><span class="credit">Powered by <a href="http://octopress.org">Octopress</a>, designed by <a href="http://iweb-studio.com" target="_blank">iwebstudio</a></p>
      </div>
    </div>
    <!-- end of bottoms -->

  </div>
  <!-- end of footer container -->

</footer>
  </div>
  

<script type="text/javascript">
      var disqus_shortname = 'casualjim';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



<p id="back-top">
  <a href="#top"><span></span>To top</a>
</p>

</body>
</html>
